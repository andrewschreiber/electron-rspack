"use strict";(self.webpackChunkelectron_rspack_website=self.webpackChunkelectron_rspack_website||[]).push([["8029"],{5032:function(e,n,t){t.r(n),t.d(n,{default:function(){return o}});var r=t(651),i=t(6971);function s(e){let n=Object.assign({h1:"h1",a:"a",p:"p",code:"code",pre:"pre",h2:"h2",ul:"ul",li:"li",strong:"strong"},(0,i.ah)(),e.components);return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsxs)(n.h1,{id:"environment-context",children:["Environment Context",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#environment-context",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"Environment context is a read-only object that provides some context information about the current environment."}),"\n",(0,r.jsxs)(n.p,{children:["In Rsbuild's hooks, you can get the environment context object through the ",(0,r.jsx)(n.code,{children:"environment"})," or ",(0,r.jsx)(n.code,{children:"environments"})," parameter."]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"type EnvironmentContext = {\n  name: string;\n  browserslist: string[];\n  config: NormalizedEnvironmentConfig;\n  distPath: string;\n  entry: RsbuildEntry;\n  htmlPaths: Record<string, string>;\n  tsconfigPath?: string;\n};\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"name",children:["name",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#name",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["The unique name of the current environment is used to distinguish and locate the environment, corresponds to the key in the ",(0,r.jsx)(n.a,{href:"/config/environments",children:"environments"})," configuration."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type:"})," ",(0,r.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"browserslist",children:["browserslist",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#browserslist",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["The range of target browsers that the project is compatible with. See details in ",(0,r.jsx)(n.a,{href:"/guide/advanced/browserslist",children:"Browserslist"}),"."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type:"})," ",(0,r.jsx)(n.code,{children:"string[]"})]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"config",children:["config",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#config",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"The Rsbuild environment configuration after normalization."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"type NormalizedEnvironmentConfig = DeepReadonly<{\n  dev: NormalizedDevConfig;\n  html: NormalizedHtmlConfig;\n  tools: NormalizedToolsConfig;\n  source: NormalizedSourceConfig;\n  server: NormalizedServerConfig;\n  output: NormalizedOutputConfig;\n  plugins?: RsbuildPlugins;\n  security: NormalizedSecurityConfig;\n  performance: NormalizedPerformanceConfig;\n  moduleFederation?: ModuleFederationConfig;\n}>;\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"distpath",children:["distPath",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#distpath",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["The absolute path of the output directory, corresponding to the ",(0,r.jsx)(n.a,{href:"/config/output/dist-path",children:"output.distPath.root"})," config in ",(0,r.jsx)(n.code,{children:"RsbuildConfig"}),"."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsxs)(n.li,{children:[(0,r.jsx)(n.strong,{children:"Type:"})," ",(0,r.jsx)(n.code,{children:"string"})]}),"\n"]}),"\n",(0,r.jsxs)(n.h2,{id:"entry",children:["entry",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#entry",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["The entry object from the ",(0,r.jsx)(n.a,{href:"/config/source/entry",children:"source.entry"})," option."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"type RsbuildEntry = Record<string, string | string[] | EntryDescription>;\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"htmlpaths",children:["htmlPaths",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#htmlpaths",children:"#"})]}),"\n",(0,r.jsx)(n.p,{children:"The path information for all HTML assets."}),"\n",(0,r.jsx)(n.p,{children:"This API will return an object, the key is the entry name and the value is the relative path of the HTML file in the dist directory."}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"type htmlPaths = Record<string, string>;\n"})}),"\n",(0,r.jsxs)(n.h2,{id:"tsconfigpath",children:["tsconfigPath",(0,r.jsx)(n.a,{className:"header-anchor","aria-hidden":"true",href:"#tsconfigpath",children:"#"})]}),"\n",(0,r.jsxs)(n.p,{children:["The absolute path of the tsconfig.json file, or ",(0,r.jsx)(n.code,{children:"undefined"})," if the tsconfig.json file does not exist in current project."]}),"\n",(0,r.jsxs)(n.ul,{children:["\n",(0,r.jsx)(n.li,{children:(0,r.jsx)(n.strong,{children:"Type:"})}),"\n"]}),"\n",(0,r.jsx)(n.pre,{children:(0,r.jsx)(n.code,{className:"language-ts",children:"type TsconfigPath = string | undefined;\n"})})]})}function h(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:n}=Object.assign({},(0,i.ah)(),e.components);return n?(0,r.jsx)(n,{...e,children:(0,r.jsx)(s,{...e})}):s(e)}let o=h;h.__RSPRESS_PAGE_META={},h.__RSPRESS_PAGE_META["en%2Fapi%2Fjavascript-api%2Fenvironment-context.mdx"]={toc:[{text:"name",id:"name",depth:2},{text:"browserslist",id:"browserslist",depth:2},{text:"config",id:"config",depth:2},{text:"distPath",id:"distpath",depth:2},{text:"entry",id:"entry",depth:2},{text:"htmlPaths",id:"htmlpaths",depth:2},{text:"tsconfigPath",id:"tsconfigpath",depth:2}],title:"Environment Context",frontmatter:{}}}}]);