"use strict";(self.webpackChunkelectron_rspack_website=self.webpackChunkelectron_rspack_website||[]).push([["9560"],{7011:function(e,s,n){n.r(s),n.d(s,{default:function(){return c}});var i=n(651),r=n(6971),a=n(5048),d=n(4340);function t(e){let s=Object.assign({h1:"h1",a:"a",p:"p",h2:"h2",h3:"h3",div:"div",ul:"ul",li:"li",code:"code",pre:"pre",strong:"strong"},(0,r.ah)(),e.components);return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsxs)(s.h1,{id:"sass-plugin",children:["Sass Plugin",(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#sass-plugin",children:"#"})]}),"\n","\n",(0,i.jsx)(a.ZB,{href:"https://github.com/web-infra-dev/rsbuild/tree/main/packages/plugin-sass"}),"\n",(0,i.jsxs)(s.p,{children:["Use ",(0,i.jsx)(s.a,{href:"https://sass-lang.com/",target:"_blank",rel:"noopener noreferrer",children:"Sass"})," as the CSS preprocessor, implemented based on ",(0,i.jsx)(s.a,{href:"https://github.com/webpack-contrib/sass-loader",target:"_blank",rel:"noopener noreferrer",children:"sass-loader"}),"."]}),"\n",(0,i.jsxs)(s.h2,{id:"quick-start",children:["Quick Start",(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#quick-start",children:"#"})]}),"\n",(0,i.jsxs)(s.h3,{id:"install-plugin",children:["Install Plugin",(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#install-plugin",children:"#"})]}),"\n",(0,i.jsx)(s.p,{children:"You can install the plugin using the following command:"}),"\n","\n",(0,i.jsx)(d.PackageManagerTabs,{command:"add @rsbuild/plugin-sass -D"}),"\n",(0,i.jsxs)(s.div,{className:"rspress-directive tip",children:[(0,i.jsx)(s.div,{className:"rspress-directive-title",children:"TIP"}),(0,i.jsxs)(s.div,{className:"rspress-directive-content",children:["\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"The Sass plugin only supports @rsbuild/core versions >= 0.7.0."}),"\n",(0,i.jsx)(s.li,{children:"If the @rsbuild/core version is lower than 0.7.0, it has builtin support for the Sass plugin, you do not need to install it."}),"\n"]}),"\n"]})]}),"\n",(0,i.jsxs)(s.h3,{id:"register-plugin",children:["Register Plugin",(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#register-plugin",children:"#"})]}),"\n",(0,i.jsxs)(s.p,{children:["You can register the plugin in the ",(0,i.jsx)(s.code,{children:"rsbuild.config.ts"})," file:"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ts",meta:'title="rsbuild.config.ts"',children:"import { pluginSass } from '@rsbuild/plugin-sass';\n\nexport default {\n  plugins: [pluginSass()],\n};\n"})}),"\n",(0,i.jsxs)(s.p,{children:["After registering the plugin, you can import ",(0,i.jsx)(s.code,{children:"*.scss"}),", ",(0,i.jsx)(s.code,{children:"*.sass"}),", ",(0,i.jsx)(s.code,{children:"*.module.scss"})," or ",(0,i.jsx)(s.code,{children:"*.module.sass"})," files into the code without adding other configs."]}),"\n",(0,i.jsxs)(s.h2,{id:"options",children:["Options",(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#options",children:"#"})]}),"\n",(0,i.jsx)(s.p,{children:"If you need to customize the compilation behavior of Sass, you can use the following configs."}),"\n",(0,i.jsxs)(s.h3,{id:"sassloaderoptions",children:["sassLoaderOptions",(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#sassloaderoptions",children:"#"})]}),"\n",(0,i.jsxs)(s.p,{children:["Modify the config of ",(0,i.jsx)(s.a,{href:"https://github.com/webpack-contrib/sass-loader",target:"_blank",rel:"noopener noreferrer",children:"sass-loader"}),"."]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Type:"})," ",(0,i.jsx)(s.code,{children:"Object | Function"})]}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.strong,{children:"Default:"})}),"\n"]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"const defaultOptions = {\n  api: 'modern-compiler',\n  implementation: require.resolve('sass-embedded'),\n  sourceMap: rsbuildConfig.output.sourceMap.css,\n};\n"})}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.strong,{children:"Example:"})}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["If ",(0,i.jsx)(s.code,{children:"sassLoaderOptions"})," is an object, it is merged with the default config through ",(0,i.jsx)(s.code,{children:"Object.assign"}),". It should be noted that ",(0,i.jsx)(s.code,{children:"sassOptions"})," is merged through deepMerge in a deep way."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"pluginSass({\n  sassLoaderOptions: {\n    sourceMap: true,\n  },\n});\n"})}),"\n",(0,i.jsxs)(s.p,{children:["If ",(0,i.jsx)(s.code,{children:"sassLoaderOptions"})," is a function, the default config is passed as the first parameter, which can be directly modified or returned as the final result."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-js",children:"pluginSass({\n  sassLoaderOptions(config) {\n    config.additionalData = async (content, loaderContext) => {\n      // ...\n    };\n  },\n});\n"})}),"\n",(0,i.jsxs)(s.h3,{id:"exclude",children:["exclude",(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#exclude",children:"#"})]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Type:"})," ",(0,i.jsx)(s.a,{href:"https://rspack.dev/config/module#condition",target:"_blank",rel:"noopener noreferrer",children:"RuleSetCondition"})]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Default:"})," ",(0,i.jsx)(s.code,{children:"undefined"})]}),"\n"]}),"\n",(0,i.jsxs)(s.p,{children:["Exclude some ",(0,i.jsx)(s.code,{children:".sass"})," or ",(0,i.jsx)(s.code,{children:".scss"})," files, they will not be transformed by ",(0,i.jsx)(s.code,{children:"sass-loader"}),"."]}),"\n",(0,i.jsx)(s.p,{children:"For example:"}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ts",children:"pluginSass({\n  exclude: /some-folder[\\\\/]foo\\.scss/,\n});\n"})}),"\n",(0,i.jsxs)(s.h2,{id:"custom-sass",children:["Custom Sass",(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#custom-sass",children:"#"})]}),"\n",(0,i.jsxs)(s.h3,{id:"sass-implementation",children:["Sass Implementation",(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#sass-implementation",children:"#"})]}),"\n",(0,i.jsxs)(s.p,{children:["Sass provides several implementations, including ",(0,i.jsx)(s.a,{href:"https://www.npmjs.com/package/sass",target:"_blank",rel:"noopener noreferrer",children:"sass"}),", ",(0,i.jsx)(s.a,{href:"https://www.npmjs.com/package/sass-embedded",target:"_blank",rel:"noopener noreferrer",children:"sass-embedded"}),", and ",(0,i.jsx)(s.a,{href:"https://www.npmjs.com/package/node-sass",target:"_blank",rel:"noopener noreferrer",children:"node-sass"}),"."]}),"\n",(0,i.jsxs)(s.p,{children:["Rsbuild uses the latest ",(0,i.jsx)(s.code,{children:"sass-embedded"})," implementation by default. ",(0,i.jsx)(s.code,{children:"sass-embedded"})," is a JavaScript wrapper around the native Dart Sass executable, providing a consistent API and optimal performance."]}),"\n",(0,i.jsxs)(s.p,{children:["If you need to use a different Sass implementation instead of the built-in ",(0,i.jsx)(s.code,{children:"sass-embedded"})," included in Rsbuild, you can install the preferred Sass implementation in your project and specify it using the ",(0,i.jsx)(s.code,{children:"sass-loader"}),"'s ",(0,i.jsx)(s.a,{href:"https://github.com/webpack-contrib/sass-loader?tab=readme-ov-file#implementation",target:"_blank",rel:"noopener noreferrer",children:"implementation"})," option."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ts",children:"pluginSass({\n  sassLoaderOptions: {\n    implementation: require.resolve('sass'),\n  },\n});\n"})}),"\n",(0,i.jsxs)(s.div,{className:"rspress-directive tip",children:[(0,i.jsx)(s.div,{className:"rspress-directive-title",children:"TIP"}),(0,i.jsx)(s.div,{className:"rspress-directive-content",children:(0,i.jsxs)(s.p,{children:["Switching from ",(0,i.jsx)(s.code,{children:"sass-embedded"})," to another Sass implementation can significantly decrease build performance.\n"]})})]}),"\n",(0,i.jsxs)(s.h3,{id:"sass-api",children:["Sass API",(0,i.jsx)(s.a,{className:"header-anchor","aria-hidden":"true",href:"#sass-api",children:"#"})]}),"\n",(0,i.jsxs)(s.p,{children:["Rsbuild uses the latest ",(0,i.jsx)(s.code,{children:"modern-compiler"})," API by default. If you rely on the ",(0,i.jsx)(s.code,{children:"legacy"})," API of Sass, you can set the ",(0,i.jsx)(s.code,{children:"api"})," option of the sass-loader to ",(0,i.jsx)(s.code,{children:"legacy"})," to maintain compatibility with some deprecated Sass syntax."]}),"\n",(0,i.jsx)(s.pre,{children:(0,i.jsx)(s.code,{className:"language-ts",children:"pluginSass({\n  sassLoaderOptions: {\n    api: 'legacy',\n  },\n});\n"})}),"\n",(0,i.jsxs)(s.div,{className:"rspress-directive tip",children:[(0,i.jsx)(s.div,{className:"rspress-directive-title",children:"TIP"}),(0,i.jsx)(s.div,{className:"rspress-directive-content",children:(0,i.jsxs)(s.p,{children:["Sass's ",(0,i.jsx)(s.code,{children:"legacy"})," API has been deprecated and will be removed in Sass 2.0. It is recommended to migrate to the ",(0,i.jsx)(s.code,{children:"modern-compiler"})," API. For more details, see ",(0,i.jsx)(s.a,{href:"https://sass-lang.com/documentation/breaking-changes/legacy-js-api/",target:"_blank",rel:"noopener noreferrer",children:"Sass - Legacy JS API"}),".\n"]})})]})]})}function l(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:s}=Object.assign({},(0,r.ah)(),e.components);return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(t,{...e})}):t(e)}let c=l;l.__RSPRESS_PAGE_META={},l.__RSPRESS_PAGE_META["en%2Fplugins%2Flist%2Fplugin-sass.mdx"]={toc:[{text:"Quick Start",id:"quick-start",depth:2},{text:"Install Plugin",id:"install-plugin",depth:3},{text:"Register Plugin",id:"register-plugin",depth:3},{text:"Options",id:"options",depth:2},{text:"sassLoaderOptions",id:"sassloaderoptions",depth:3},{text:"exclude",id:"exclude",depth:3},{text:"Custom Sass",id:"custom-sass",depth:2},{text:"Sass Implementation",id:"sass-implementation",depth:3},{text:"Sass API",id:"sass-api",depth:3}],title:"Sass Plugin",frontmatter:{}}}}]);