"use strict";(self.webpackChunkelectron_rspack_website=self.webpackChunkelectron_rspack_website||[]).push([["3241"],{8296:function(e,r,n){n.r(r),n.d(r,{default:function(){return d}});var t=n(651),s=n(6971);function l(e){let r=Object.assign({h1:"h1",a:"a",ul:"ul",li:"li",strong:"strong",pre:"pre",code:"code",p:"p",h2:"h2"},(0,s.ah)(),e.components);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(r.h1,{id:"outputtarget",children:["output.target",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#outputtarget",children:"#"})]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsx)(r.li,{children:(0,t.jsx)(r.strong,{children:"Type:"})}),"\n"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:"type RsbuildTarget = 'web' | 'node' | 'web-worker';\n"})}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Default:"})," ",(0,t.jsx)(r.code,{children:"'web'"})]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.strong,{children:"Version:"})," ",(0,t.jsx)(r.code,{children:">= 1.0.0"})]}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:"Setting the build target of Rsbuild."}),"\n",(0,t.jsx)(r.p,{children:"Rsbuild supports multiple build targets for running in different environments. After setting the target type, the default configuration of Rsbuild will change accordingly."}),"\n",(0,t.jsxs)(r.h2,{id:"default-target",children:["Default Target",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#default-target",children:"#"})]}),"\n",(0,t.jsx)(r.p,{children:"By default, the target is set to 'web' and will build outputs for running in the browser."}),"\n",(0,t.jsxs)(r.p,{children:["Rsbuild will read the ",(0,t.jsx)(r.a,{href:"https://github.com/browserslist/browserslist",target:"_blank",rel:"noopener noreferrer",children:"Browserslist config"})," in the project to determine the range of browsers."]}),"\n",(0,t.jsxs)(r.h2,{id:"optional-targets",children:["Optional Targets",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#optional-targets",children:"#"})]}),"\n",(0,t.jsxs)(r.p,{children:["In addition to ",(0,t.jsx)(r.code,{children:"'web'"}),", ",(0,t.jsx)(r.code,{children:"target"})," can also be set to the following values:"]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"'node'"}),": Build for Node.js environment, usually used in SSR or other scenarios."]}),"\n",(0,t.jsxs)(r.li,{children:[(0,t.jsx)(r.code,{children:"'web-worker'"}),": Build for web worker environment."]}),"\n"]}),"\n",(0,t.jsx)(r.p,{children:"For example, to build for the Node.js environment:"}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:"export default {\n  output: {\n    target: 'node',\n  },\n};\n"})}),"\n",(0,t.jsxs)(r.h2,{id:"parallel-builds",children:["Parallel Builds",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#parallel-builds",children:"#"})]}),"\n",(0,t.jsxs)(r.p,{children:["You can use ",(0,t.jsx)(r.a,{href:"/config/environments",children:"environments"})," to build multiple targets in parallel."]}),"\n",(0,t.jsxs)(r.p,{children:["For example, to build ",(0,t.jsx)(r.code,{children:"web"})," outputs and ",(0,t.jsx)(r.code,{children:"node"})," outputs at the same time:"]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-ts",children:"export default {\n  environments: {\n    web: {\n      output: {\n        target: 'web',\n      },\n    },\n    node: {\n      output: {\n        target: 'node',\n      },\n    },\n  },\n};\n"})}),"\n",(0,t.jsxs)(r.h2,{id:"node-target",children:["Node Target",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#node-target",children:"#"})]}),"\n",(0,t.jsx)(r.p,{children:"Refers to the build target running in the Node.js environment, usually used in scenarios such as SSR."}),"\n",(0,t.jsxs)(r.p,{children:["When ",(0,t.jsx)(r.code,{children:"target"})," is set to ",(0,t.jsx)(r.code,{children:"'node'"}),", Rsbuild will:"]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["Set Rspack's ",(0,t.jsx)(r.a,{href:"https://rspack.dev/config/target",target:"_blank",rel:"noopener noreferrer",children:"target"})," to ",(0,t.jsx)(r.code,{children:"'node'"}),"."]}),"\n",(0,t.jsx)(r.li,{children:"No HTML files will be generated, and HTML-related logic will not be executed, since HTML is not required by the Node.js environment."}),"\n",(0,t.jsx)(r.li,{children:"CSS code will not be bundled or extracted, but the id information of CSS Modules will be included in the bundle."}),"\n",(0,t.jsx)(r.li,{children:"The default code split strategy will be disabled, but dynamic import can still work."}),"\n",(0,t.jsx)(r.li,{children:"Disable the HMR."}),"\n",(0,t.jsxs)(r.li,{children:["Adjust the default value of Browserslist to ",(0,t.jsx)(r.code,{children:"['node >= 16']"}),"."]}),"\n"]}),"\n",(0,t.jsxs)(r.h2,{id:"web-worker-target",children:["Web Worker Target",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#web-worker-target",children:"#"})]}),"\n",(0,t.jsxs)(r.p,{children:["Refers to the build target running in the ",(0,t.jsx)(r.a,{href:"https://developer.mozilla.org/en-US/docs/Web/API/Web_Workers_API",target:"_blank",rel:"noopener noreferrer",children:"Web Worker"})," environment."]}),"\n",(0,t.jsxs)(r.p,{children:["When ",(0,t.jsx)(r.code,{children:"target"})," is set to ",(0,t.jsx)(r.code,{children:"'web-worker'"}),", Rsbuild will:"]}),"\n",(0,t.jsxs)(r.ul,{children:["\n",(0,t.jsxs)(r.li,{children:["Set Rspack's ",(0,t.jsx)(r.a,{href:"https://rspack.dev/config/target",target:"_blank",rel:"noopener noreferrer",children:"target"})," to ",(0,t.jsx)(r.code,{children:"'webworker'"}),"."]}),"\n",(0,t.jsx)(r.li,{children:"No HTML files will be generated, and HTML-related logic will not be executed, since HTML is not required by the Web Worker environment."}),"\n",(0,t.jsx)(r.li,{children:"CSS code will not be bundled or extracted, but the id information of CSS Modules will be included in the bundle."}),"\n",(0,t.jsxs)(r.li,{children:["The default code split strategy will be disabled, and ",(0,t.jsx)(r.strong,{children:"dynamic import can not work"}),", because the Web Worker only runs a single JavaScript file."]}),"\n",(0,t.jsx)(r.li,{children:"Disable the HMR."}),"\n"]}),"\n",(0,t.jsxs)(r.p,{children:["For more information, please refer to: ",(0,t.jsx)(r.a,{href:"/guide/basic/web-workers",children:"Using Web Workers"}),"."]}),"\n",(0,t.jsxs)(r.h2,{id:"other-targets",children:["Other targets",(0,t.jsx)(r.a,{className:"header-anchor","aria-hidden":"true",href:"#other-targets",children:"#"})]}),"\n",(0,t.jsxs)(r.p,{children:[(0,t.jsx)(r.a,{href:"https://rspack.dev/config/target",target:"_blank",rel:"noopener noreferrer",children:"Rspack"})," supports other target types, such as ",(0,t.jsx)(r.code,{children:"electron-main"})," and ",(0,t.jsx)(r.code,{children:"electron-renderer"}),"."]}),"\n",(0,t.jsxs)(r.p,{children:["Rsbuild currently does not support these targets. You can configure these targets using ",(0,t.jsx)(r.a,{href:"/config/tools/rspack",children:"tools.rspack"}),"."]}),"\n",(0,t.jsxs)(r.p,{children:["For example, setting the ",(0,t.jsx)(r.code,{children:"target"})," to ",(0,t.jsx)(r.code,{children:"'electron-main'"})," will override the default ",(0,t.jsx)(r.code,{children:"'web'"})," set by Rsbuild."]}),"\n",(0,t.jsx)(r.pre,{children:(0,t.jsx)(r.code,{className:"language-js",children:"export default {\n  tools: {\n    rspack: {\n      target: 'electron-main',\n    },\n  },\n};\n"})})]})}function i(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},{wrapper:r}=Object.assign({},(0,s.ah)(),e.components);return r?(0,t.jsx)(r,{...e,children:(0,t.jsx)(l,{...e})}):l(e)}let d=i;i.__RSPRESS_PAGE_META={},i.__RSPRESS_PAGE_META["en%2Fconfig%2Foutput%2Ftarget.mdx"]={toc:[{text:"Default Target",id:"default-target",depth:2},{text:"Optional Targets",id:"optional-targets",depth:2},{text:"Parallel Builds",id:"parallel-builds",depth:2},{text:"Node Target",id:"node-target",depth:2},{text:"Web Worker Target",id:"web-worker-target",depth:2},{text:"Other targets",id:"other-targets",depth:2}],title:"output.target",frontmatter:{}}}}]);